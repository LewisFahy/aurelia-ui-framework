// 
// @description : 
// @author      : Adarsh Pastakia
// @copyright   : 2017
// @license     : MIT

.ui-input-wrapper {
  @include flex(1 1 4em);

  &:not(:first-child):not(:last-child) {}

  .ui-input-info {
    color     : $muted;
    text-align: center;
    @include ellipsis();
  }

  .ui-input-control {
    @include flex-row($wrap:false, $align: stretch);
    color     : $input-text;
    background: $input-bg;
    max-width : 100%;
    position  : relative;
    box-shadow: 0 -1px 0 0 $base-border-color inset;
    @include transition(box-shadow .5s);

    input,
    textarea {
      @include flex-fill();
      background : none;
      border     : none;
      margin     : 0;
      color      : inherit;
      min-height : 1em;
      width      : 1em;
      font-size  : .9em;
      line-height: 1rem;
      padding    : .25rem .5rem;
    }

    .ui-error {
      $icons     : $fi-ui-invalid $fi-ui-invalid-line $fi-ui-invalid-bold;
      color      : $input-error-text;
      background : $input-error-bg;
      line-height: 1.5em;
      padding    : 0 .25em;
      @include flex-auto();
      @include glyph(nth($icons, $input-invalid-icon));

      .ui-error-list {
        display   : none;
        position  : absolute;
        background: $danger;
        color     : $white;
        z-index   : 5;
        font-size : .8em;

        > li {
          padding: 0 .5em;
        }
      }

      &:hover .ui-error-list {
        display: block;
      }
    }

    // .ui-caret {
    //   @include flex-auto();
    //   padding: .25em .1em;
    //   cursor : pointer;
    //   color  : $muted;
    // 
    //   &:hover {
    //     color: $base-text;
    //   }
    // }

    .ui-counter {
      @include flex-auto();
      color      : rgba($input-text, .5);
      font-size  : .7em;
      line-height: 1.5rem;
      padding    : 0 .25em;
    }

    .ui-clear {
      @include flex-auto();
      color      : rgba($input-text, .5);
      cursor     : pointer;
      font-size  : 1em;
      line-height: 1.5em;
      padding    : 0 .25em;

      &:hover {
        color: $base-text;
      }
    }

    &.ui-phone {
      span:first-child {
        @include align-self(center);
      }
    }

    &.ui-textarea {
      position: relative;

      textarea {
        margin-bottom: 1em;
        resize       : none;
      }

      .ui-counter {
        position   : absolute;
        display    : block;
        line-height: 1em;
        bottom     : 0;
        left       : 0;
        right      : 0;
      }
    }
  }

  &.ui-focus .ui-input-control {
    box-shadow: 0 -2px 0 0 $input-focus-border inset;
  }

  &.ui-invalid {
    .ui-input-control {
      box-shadow: 0 -1px 0 0 $input-invalid-border inset;
    }

    &.ui-focus .ui-input-control {
      box-shadow: 0 -2px 0 0 $input-invalid-border inset;
    }
  }

  &.ui-disabled .ui-input-control {
    // box-shadow: 0 -1px 0 0 rgba($base-border-color,.5) inset !important;
    color: rgba($input-text, .5) !important;

    &:after {
      content   : '';
      @include position(absolute, 0);
      background: rgba($input-disabled-bg, 0.5);
    }
  }

  &.ui-readonly .ui-input-control {
    background: $input-readonly-bg;
    box-shadow: none !important;
  }
}
