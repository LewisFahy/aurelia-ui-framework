// 
// @description : 
// @author      : Adarsh Pastakia
// @copyright   : 2017
// @license     : MIT

.ui-input-wrapper {
  @include flex(1 1 4rem);
  line-height: 1.2;

  &:not(:first-child):not(:last-child) {
    margin: 0 .1rem;
  }

  .ui-input-info {
    font-size : .6rem;
    color     : $muted;
    text-align: center;
    @include ellipsis();
  }

  .ui-input-control {
    @include flex-row($wrap:false, $align: stretch);
    color     : $input-text;
    background: $input-bg;
    max-width : 100%;
    position  : relative;
    box-shadow: 0 -1px 0 0 $base-border-color inset;
    @include transition(box-shadow .5s);

    input,
    textarea {
      @include flex-fill();
      background: none;
      border    : none;
      margin    : 0;
      color     : inherit;
      min-height: 25px;
      width     : 1rem;
      padding   : .2rem .4rem;
    }

    .ui-error {
      @include flex-auto();
      padding   : .2rem .2rem 0;
      color     : $input-error-text;
      background: $input-error-bg;
      @include glyph($fi-ui-invalid-line);

      .ui-error-list {
        display   : none;
        position  : absolute;
        background: $danger;
        color     : $white;
        font-size : .8rem;
        z-index   : 5;
        padding   : $base-padding;
      }

      &:hover .ui-error-list {
        display: block;
      }
    }

    // .ui-caret {
    //   @include flex-auto();
    //   padding: .25em .1em;
    //   cursor : pointer;
    //   color  : $muted;
    // 
    //   &:hover {
    //     color: $base-text;
    //   }
    // }

    .ui-counter {
      @include flex-auto();
      color     : $muted;
      font-size : .75em;
      padding   : .4em .25em;
    }

    .ui-clear {
      @include flex-auto();
      color     : $muted;
      padding   : .1em .25em;
      cursor    : pointer;

      &:hover {
        color: $base-text;
      }
    }

    &.ui-phone {
      span:first-child {
        font-size: .7em;
        @include align-self(center);
      }
    }

    &.ui-textarea {
      position: relative;

      textarea {
        margin-bottom: 1rem;
        resize       : none;
      }

      .ui-counter {
        position  : absolute;
        display   : block;
        bottom    : 2px;
        left      : 0;
        right     : 0;
        background: $input-bg;
        padding   : .1em .25em;
      }
    }
  }

  &.ui-focus .ui-input-control {
    box-shadow: 0 -2px 0 0 $input-focus-border inset;
  }

  &.ui-invalid {
    .ui-input-control {
      box-shadow: 0 -1px 0 0 $input-invalid-border inset;
    }

    &.ui-focus .ui-input-control {
      box-shadow: 0 -2px 0 0 $input-invalid-border inset;
    }
  }

  &.ui-disabled .ui-input-control {
    // box-shadow: 0 -1px 0 0 rgba($base-border-color,.5) inset !important;
    color: rgba($input-text, .5) !important;

    &:after {
      content   : '';
      @include position(absolute, 0);
      background: rgba($input-disabled-bg, 0.5);
    }
  }

  &.ui-readonly .ui-input-control {
    background: $input-readonly-bg;
    box-shadow: none !important;
  }
}
